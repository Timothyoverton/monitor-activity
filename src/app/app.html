<main>
  <div class="container">
    <h1>{{ title() }}</h1>
    
    <div *ngIf="showNameInput()" class="name-input-section">
      <p>Enter your name to get started:</p>
      <div class="input-group">
        <input 
          type="text" 
          [(ngModel)]="inputName" 
          placeholder="Your name"
          (keyup.enter)="setUserName()"
          autofocus
        />
        <button (click)="setUserName()">Start</button>
      </div>
    </div>

    <div *ngIf="!showNameInput()" class="monitoring-section">
      <div class="user-info">
        <p class="welcome-text">Welcome, <strong>{{ userName() }}</strong>!</p>
      </div>

      <div class="status-panel">
        <div class="status-indicator" [class.active]="isVisible()" [class.inactive]="!isVisible()">
          <span *ngIf="isVisible()" class="status-text">üìç You are ACTIVE on the page</span>
          <span *ngIf="!isVisible()" class="status-text">‚ùå You are AWAY from the page</span>
        </div>
      </div>

      <div class="timer-section">
        <div class="timer-display">
          <p class="timer-label">Total Active Time:</p>
          <p class="timer-value">{{ getFormattedTime(activeSeconds()) }}</p>
        </div>
      </div>

      <div class="activity-log-section">
        <h2>Activity Log</h2>
        <div class="activity-log">
          <div *ngIf="activityLog().length === 0" class="no-activities">
            No activity yet...
          </div>
          <div *ngFor="let log of activityLog()" class="log-entry" [class]="log.type">
            <span class="log-time">{{ formatTime(log.timestamp) }}</span>
            <span class="log-message">{{ log.message }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
